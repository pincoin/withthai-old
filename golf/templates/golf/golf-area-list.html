{% extends 'conf/base.html' %}

{% load i18n static humanize %}
{% load golf_tags %}

{% block main %}
    <main>
        <div class="uk-section breadcrumbs">
            <div class="uk-container">
                <ul class="uk-breadcrumb ">
                    <li><a href="{% url 'golf:golf-club-list' %}">{% trans 'GOLF' %}</a></li>
                    <li>
                        <a href="{% url 'golf:golf-area-list' area.slug %}">
                            {% if LANGUAGE_CODE == 'th' %}
                                {{ area.title_thai }}
                            {% elif LANGUAGE_CODE == 'ko' %}
                                {{ area.title_korean }}
                            {% else %}
                                {{ area.title_english }}
                            {% endif %}
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="uk-section">
            <div class="uk-container">
                {% get_provinces area.slug as provinces %}

                <div class="uk-flex uk-flex-wrap uk-flex-between@m uk-child-width-1-2 uk-child-width-1-4@m areas">
                    {% for province in provinces %}
                        <div class="">
                            <a href="{% url 'golf:golf-province-list' province.slug %}"
                               class="">
                                {% if LANGUAGE_CODE == 'th' %}
                                    {{ province.title_thai }}
                                {% elif LANGUAGE_CODE == 'ko' %}
                                    {{ province.title_korean }}
                                {% else %}
                                    {{ province.title_english }}
                                {% endif %}
                            </a>
                        </div>
                    {% endfor %}
                </div>

                <form>
                    <select class="uk-select" name="ordering">
                        <option value="1">{% trans 'Recommended' %}</option>
                        <option value="2">{% trans 'Rating: 5 Star - 1 Star' %}</option>
                        <option value="3">{% trans 'Price: Low - High' %}</option>
                        <option value="4">{% trans 'Price: High - Low' %}</option>
                    </select>
                </form>

                <div class="uk-grid" uk-grid>
                    {% for club in clubs %}
                        <div class="uk-width-1-1 uk-width-1-2@m uk-card uk-card-body">
                            <div class="uk-flex uk-flex-wrap">
                                <div class="uk-width-1-1 uk-width-1-3@m">
                                    <a href="">
                                        {% if club.thumbnail1 %}
                                            <img data-src="{{ club.thumbnail1.url }}"
                                                 width="640" height="320" alt="" uk-img="">
                                        {% else %}
                                            <img data-src="//via.placeholder.com/640x320"
                                                 width="640" height="320" alt="" uk-img="">
                                        {% endif %}
                                    </a>
                                </div>
                                <div class="uk-width-1-1 uk-width-2-3@m club-list-description">
                                    <a href="">
                                        <h3>
                                            {% if LANGUAGE_CODE == 'th' %}
                                                {{ club.title_thai }}
                                            {% elif LANGUAGE_CODE == 'ko' %}
                                                {{ club.title_korean }}
                                            {% else %}
                                                {{ club.title_english }}
                                            {% endif %}
                                        </h3>
                                    </a>
                                    <span>
                                        {% if LANGUAGE_CODE == 'th' %}
                                            {{ club.district.title_thai }}
                                        {% elif LANGUAGE_CODE == 'ko' %}
                                            {{ club.district.title_korean }}
                                        {% else %}
                                            {{ club.district.title_english }}
                                        {% endif %} -
                                        {% if LANGUAGE_CODE == 'th' %}
                                            {{ club.district.province.title_thai }}
                                        {% elif LANGUAGE_CODE == 'ko' %}
                                            {{ club.district.province.title_korean }}
                                        {% else %}
                                            {{ club.district.province.title_english }}
                                        {% endif %}
                                    </span>
                                    <hr>
                                    <div class="uk-align-right">
                                        <span>{% trans 'Start From' %}</span>
                                        <span class="club-list-price">
                                                    {{ club.green_fee_selling_price|floatformat:0|intcomma }}
                                                </span>
                                        <span>THB</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>

                {% if page_obj %}
                    <ul class="uk-pagination uk-flex-center">
                        {% if page_obj.has_previous %}
                            <li>
                                <a href="?page={{ page_obj.previous_page_number }}{% if q %}&q={{ q }}{% endif %}"
                                   aria-label="Previous">
                                    <span uk-pagination-previous></span>
                                    <span class="sr-only">{% trans "Previous" %}</span>
                                </a>
                            </li>
                        {% else %}
                            <li>
                                <a href="#">
                                    <span uk-pagination-previous></span>
                                    <span class="sr-only">{% trans "Previous" %}</span>
                                </a>
                            </li>
                        {% endif %}

                        {% for i in page_range %}
                            {% if page_obj.number == i %}
                                <li class="uk-active">
                                    <a href="#">{{ i }} <span class="sr-only">(current)</span></a>
                                </li>
                            {% else %}
                                <li>
                                    <a href="?page={{ i }}{% if q %}&q={{ q }}{% endif %}">
                                        {{ i }}
                                    </a>
                                </li>
                            {% endif %}
                        {% endfor %}

                        {% if page_obj.has_next %}
                            <li>
                                <a href="?page={{ page_obj.next_page_number }}{% if q %}&q={{ q }}{% endif %}"
                                   aria-label="Next">
                                    <span uk-pagination-next></span>
                                    <span class="sr-only">{% trans "Next" %}</span>
                                </a>
                            </li>
                        {% else %}
                            <li>
                                <a href="#">
                                    <span uk-pagination-next></span>
                                    <span class="sr-only">{% trans "Next" %}</span>
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                {% endif %}
            </div>
        </div>
    </main>
{% endblock %}

{% block stylesheet %}
    {{ block.super }}
    <link type="text/css" href="{% static 'golf/css/main.css' %}" rel="stylesheet">
{% endblock %}